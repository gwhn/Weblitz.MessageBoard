<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="Weblitz.MessageBoard.Core"
                   namespace="Weblitz.MessageBoard.Core.Domain.Model">
  <joined-subclass name="Post" extends="Entry">
    <key column="Id"/>
    <many-to-one name="Topic" column="TopicId"/>
    <set name="Children" order-by="ModifiedOn asc" inverse="true" lazy="true">
      <key column="ParentId"/>
      <one-to-many class="Post"/>
    </set>
    <many-to-one name="Parent" column="ParentId"/>
  </joined-subclass>
</hibernate-mapping>